<% include partials/header %>

<div class="container">
  <div class = "jumbotron">

    <div class="panel panel-default">
      <center>  <div class="panel-body">   Search the data</div> </center>
    </div>

    <form class="" action="" method="get">
     <input type="hidden" name="page" value="<%= pagination.page %>">
      <!-- ID:<br>
      <input type="text" name="id"><br> -->
      <div class="form-group">
        <label for="id" class="col-sm-2 control-label">
          <input type="checkbox" name="check_id" value="true"<%= query.check_id ? ' checked' : '' %>> ID
        </label>

        <div class="col-sm-10">
          <input type="text" class="form-control" name="id" placeholder="Please Input The ID Number" value="<%= query.id %>">
        </div>
        <br> <br>

        <label for="string" class="col-sm-2 control-label">
          <input type="checkbox" name="check_string" value="true"<%= query.check_string ? ' checked' : '' %>> String
        </label>
        <div class="col-sm-10">
          <input type="text" class="form-control" name="string" value="<%= query.string %>" placeholder="Please Input The String Number">
        </div>
        <br> <br>

        <div class="form-group">
          <label for="integer" class="col-sm-2 control-label">
            <input type="checkbox" name="check_integer" value="true"<%= query.check_integer ? ' checked' : '' %>> Integer
          </label>
          <div class="col-sm-10">
            <input type="number" step ="1" class="form-control" name="integer" value="<%= query.integer %>" placeholder="Please Input The Integer Number">
          </div>

          <div class="form-group">
            <br><br>
            <label for="flat" class="col-sm-2 control-label">
              <input type="checkbox" name="check_float" value="true"<%= query.check_float ? ' checked' : '' %>> Float
            </label>
            <div class="col-sm-10">
              <input type="number" step ="0.1" class="form-control" name="float" value="<%= query.float %>" placeholder="Please Input Float Number">
            </div>
            <br><br>

            <div class="form-group">
              <label for="date" class="col-sm-2 control-label">
                <input type="checkbox" name="check_date" value="check_date"<%= query.check_date ? ' checked' : '' %>> Date
              </label>
              <div class="col-sm-10">
                <input type="date" class="form-control" name="startdate" value="<%= query.startdate %>">
                To
                <input type="date" class="form-control" name="enddate" value="<%= query.enddate %>">
                </div>
              </div>
              <br><br>

              <div class="form-group">
                <label for="boolean" class="col-sm-2 control-label">
                  <input type="checkbox" name="check_boolean" value="true"<%= query.check_boolean ? ' checked' : '' %>> Boolean
                </label>
                <div class="col-sm-10">
                  <select name="boolean" class="form-control">
                    <option value="null">Choose the boolean</option>
                    <option value="true"<%= query.boolean == "true" ? ' selected' : ''; %>>True</option>
                    <option value="false"<%= query.boolean == "false" ? ' selected' : ''; %>>False</option>
                  </select>
                </div>
                <br><br>

                <br>  <button type="submit" name = "submit" class="btn btn-success">Search</button>
                  <a href="/" class="btn btn-warning">Reset</a>
              </form> <br>
            </div>


            <div class="panel panel-default">
              <center>  <div class="panel-body">BREAD (Browse, Read, Add, Delete)</div> </center>
            </div>
            <thead>
              <table class="table table-striped" border= "1">
                <tr>
                  <th> <center> String </th> </center>
                  <th> <center> integer </th> </center>
                  <th> <center> Float </th> </center>
                  <th> <center> Date </th> </center>
                  <th> <center> Boolean </th> </center>
                  <th width="300px"> <center> Action </th> </center>
                </tr>
              </thead>

              <tbody>
                <% if (rows.length > 0) { %>
                  <% for (var i=0; i< rows.length; i++){ %>
                    <tr>
                      <td> <%= rows[i].string %> </td>
                      <td> <%= rows[i].integer %> </td>
                      <td> <%= rows[i].float %> </td>
                      <td> <%= rows[i].date %> </td>
                      <td> <%= rows[i].boolean %> </td>
                      <td> <center> <a href='edit/<%= rows[i]._id %>' class="btn btn-success"> Edit </a> &nbsp;
                        <a href= 'delete/<%= rows[i]._id%>' class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this item?');" > Delete </button></center></td>
                        </tr>
                        <% } %>
                        <% }else { %>
                          <tr>
                            <td colspan="7"> <center> Data Kosong </td> </center>
                          </tr>
                          <% } %>
                        </tbody>
                      </table>

                      <ul class="pagination">
                        <% if (pagination.page > 1) { %> <li><a href="<%= pagination.url.replace(`/?page=${pagination.page}`, `/?page=${pagination.page-1}`) %>">Previous</a></li> <% } %>
                          <% for (var i=1; i <= pagination.pages; i++){ %>
                        <li<%= (pagination.page == i) ? ' class=active' : ''; %>><a href="<%= pagination.url.replace(`/?page=${pagination.page}`, `/?page=${i}`) %>"><%= i %></a></li>
                          <% } %>
                          <% if (pagination.page < pagination.pages) { %> <li><a href="<%= pagination.url.replace(`/?page=${pagination.page}`, `/?page=${pagination.page+1}`) %>">Next</a></li> <% } %>
                      </ul>

                      <br> <a href="add" class="btn btn-success"> Tambah </a>
                    </div>


<% include partials/footer %>
